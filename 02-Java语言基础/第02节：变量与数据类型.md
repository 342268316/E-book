# 第02节：变量与数据类型

### 一、变量

#### 变量的基本概念

上一节中我们说的字面量值是不能变化的，在程序执行过程中，某个范围内其值可以改变的量叫做变量。

定义变量的语法如下所示：

> 数据类型 变量名 = 变量值;

* 数据类型：明确变量是一个什么类型的数据，关于数据类型本章会继续讨论。
* 变量名：用一个标识符表示这个标枪。
* 变量值：可以使字面量，也可以是另一个标量，也可以是表达式或者函数返回值（后续课程会详细讲解）。

例如我上一节内容的案例：

``` java
String str = "hello world";
System.out.println(str);
```

上面的代码表示，声明一个字符串变量str，并且将"hello world"这个字符串赋值给str，然后再控制台输出这个变量的值。运行后我们会在控制台看到"hello world"。

#### 为什么要定义变量

变量其实就是内存中的一块空间，这块空间有【类型】【名字】和【值】，它可以用来存放统一类型的值，并且可以重复使用。

### 二、数据类型

#### 为什么要使用数据类型

上一部分我们已经说了，变量其实就是内存中的一块空间。我们在内存中存放数据之前需要先开辟一快空间，通过指定数据类型，我们就可以指定这个空间尺寸的大小。

例如我们想存一个数字1，就可以开辟一个较小的空间，可以使用bype数据类型。如果想存储一个数字1000000。那么byte这么小的空间就装不下这么大的数据，所以需要使用int数据类型。

当然，我们也可以将1这个数据存放在int类型中，数据可以正常保存，但是会产生不必要的浪费。如果我们将1000000这个数字保存为bype类型，这样的程序会报错，如果我们要强硬地将1000000转换成bype类型，会出现数据溢出的情况，导致数据失真。

#### 基本数据类型

在Java语言中有两种数据类型：【基本数据类型】和【引用数据类型】，我们会在下一章详细的讲解引用数据类型，本节主要讲解基本数据数据类型。

Java语言中的基本基本数据类型可以分为四类八种，下面我们来介绍这八种数据类型，以及它们在内存中的占位情况：

* 整数型
  * byte占一个字节
  * short占两个字节
  * int占四个字节
  * long占八个字节
* 浮点型
  * float占四个字节
  * double占八个字节
* 字符型
  * char占两个字节，可以使一个字母，一个符号或一个汉字。
* 布尔型
  * boolean：true和false

数据类型及对照变如下所示：
|数据类型|字节数|二进制位数|范围|规律|
|------|------|------|------|------|
|byte|1|8|-128～127|-2^7^～2^7^-1|
|short|2|16|-32768～32767|-2^15^～2^15^-1|
|int|4|32|-2147483648～2147483647|-2^31^～2^31^-1|
|long|8|64|-9223372036854775808 ~ 9223372036854775807|-2^63^～2^63^-1|
|float|4|32|1.4E-45~3.4028235E38|-2^15^～2^15^-1|
|double|8|64|4.9E-324~1.7976931348623157E308|-2^15^～2^15^-1|
|char|2|16|0～65535|0～2^16^-1|
|boolean|1|8|true或false|true或false|

> 我们之前接触到的字符串类型（String）属于引用数据类型。

在定义变量的时候，我们需要明确指定变量的数据类型，如果变量是一个基本数据类型，那么变量在内存中占用的存储空间就可以确定，我们可以把不同的数据放入相应数据类型的变量中，这样就不会产生资源的浪费。

例如整数10000，可以放到short类型的变量中，整数1000000可以放到int数据类型中，代码如下所示：

``` java
short a = 10000;
int b = 1000000;
```

下一节我们会运用这些基本数据类型做一些常见的运算。

### 三、类型转换

在开发的过程中，我们经常遇到类型转换的情况，例如上面的代码中，如果我们希望输出a和b之和，就会涉及到类型转换的概念。类型转换可以分为隐式类型转换和显式类型转换。

#### 隐式类型转换

``` java
short a = 10000;
int b = 1000000;
int c = a + b;
System.out.println(c);
```

在上面的代码中，c是int类型，a是short类型，在相加的过程中，short类型自动向上转换成了init类型。输出的结果是1010000，并不会出现计算上的问题。

#### 显式类型转换

我们还可以强制将数据类型下转换，例如下面的代码。

``` java
int b = 1000000;
int c = (short)b;
System.out.println(c);
```

short类型在内存中存放的最大值是32767，所以1000000会出现溢出的情况，输出的值是16960，向下的转型如果出现溢出，会导致结果失真，所以大家在开发的过程中，要避免这种情况的发生，如果不确定变量存储值的尺寸，可以使用范围稍微广一些的数据类型。

### 四、总结

本章介绍了基本数据类型，对于初学者来说，数据类型的占位和范围并不容易理解，建议后续再深入学习，本章只要知道这八种数据类型和基本用法即可。