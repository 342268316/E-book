# 第03节：数据库操作

### 一、PreparedStatement
1、PreparedStatement是一个接口，它继承了Statement，该接口有以下几个优点：  
（1）性能比Statement高，会把sql预编译  
（2）可以解决sql注入问题  
代码实例：   
import java.sql.*;  

public class PreparedStatement {  
    public static void main(String[] args) {  
        try {  
            Class.forName("com.mysql.cj.jdbc.Driver");  
        } catch (ClassNotFoundException e){  
            e.printStackTrace();  
        };  
        String url = "jdbc:mysql://localhost/jdbc?user=root&password=123456&serverTimezone=UTC";  
        int minid=3;  
        Connection conn = null;  
        java.sql.PreparedStatement ps = null;  
        ResultSet rs = null;  

        String sql = "select id from emp where id > ?";//这里where后的id是数据表里里面的字段名，我的表里只有一个id字段（跟据你自己的表来写）  

        try {  

            conn = DriverManager.getConnection(url);  

            ps = conn.prepareStatement(sql);  

            ps.setInt(1,minid);  

            rs = ps.executeQuery();  

            while (rs.next()) {  
                System.out.println(rs.getObject("id"));  
            }  
        } catch (SQLException e){  
            e.printStackTrace();  
        }   finally {  
            try {  
                if (rs != null)  
                    rs.close();  
                if (ps !=null)  
                    ps.close();  
                if (conn !=null)  
                    conn.close();  
            } catch (SQLException e) {  
                e.printStackTrace();  
            }  
        }  
    }  
}  
### 二、表的增删改查
代码实例：  
import java.sql.*;  

public class Lnsert {  
    public static void main(String[] args) {  
        try {  
            Class.forName("com.mysql.cj.jdbc.Driver");  
        } catch (ClassNotFoundException e){  
            e.printStackTrace();  
        };  
        String url = "jdbc:mysql://localhost/jdbc?user=root&password=123456&serverTimezone=UTC";  
        Connection conn = null;  
        Statement stmt = null;  
        String sql = "insert into emp values (33)"; //这里写对表增删改的sql语句  
        try {  

            conn = DriverManager.getConnection(url);  

            stmt = conn.createStatement();  

            stmt.executeUpdate(sql);//这行代码是执行上面增删改操作的方法  


        } catch (SQLException e){  
            e.printStackTrace();  
        }   finally {  
            try {  
                if(stmt != null){  
                    stmt.close();  
                }  
                stmt = null;  
                if(conn != null){  
                    conn.close();  
                }  
                conn = null;  
            } catch (SQLException e) {  
                e.printStackTrace();  
            }  
        }  
    }  
}  

### 四、总结本章我们学习了PreparedStatement和对数据库的增删改查
